Nice exercise. My only struggle was to generate the sine wave, but then I remembered TI has this IQMathLibrary.